CREATE TABLE "DAILY_WEATHER" (
	"DW_IDX"	int	 GENERATED BY DEFAULT AS IDENTITY	NOT NULL,
	"LOC"	varchar(30)		NOT NULL,
	"STD_DATE"	date		NOT NULL,
	"HIGH_TEMP"	float		NULL,
	"LOW_TEMP"	float		NULL,
	"DIFF_TEMP"	float		NULL,
	"RAIN_AMOUNT"	float		NULL,
	"AVG_WIND"	float		NULL,
	"HIGH_WIND"	float		NULL,
	"PM10"	int		NULL,
	"PM25"	int		NULL
);

COMMENT ON COLUMN "DAILY_WEATHER"."LOC" IS '지역명';

COMMENT ON COLUMN "DAILY_WEATHER"."STD_DATE" IS '날짜(일별)';

COMMENT ON COLUMN "DAILY_WEATHER"."HIGH_TEMP" IS '최고기온';

COMMENT ON COLUMN "DAILY_WEATHER"."LOW_TEMP" IS '최저기온';

COMMENT ON COLUMN "DAILY_WEATHER"."DIFF_TEMP" IS '일교차';

COMMENT ON COLUMN "DAILY_WEATHER"."RAIN_AMOUNT" IS '강수량(mm)';

COMMENT ON COLUMN "DAILY_WEATHER"."AVG_WIND" IS '평균풍속(m/s)';

COMMENT ON COLUMN "DAILY_WEATHER"."HIGH_WIND" IS '최대풍속';

COMMENT ON COLUMN "DAILY_WEATHER"."PM10" IS '미세먼지(㎍/m3)';

COMMENT ON COLUMN "DAILY_WEATHER"."PM25" IS '초미세먼지';

CREATE TABLE "THEMEPARK" (
	"THEME_NUM"	 int		NOT NULL,
	"THEME_NAME"	varchar(30)		NULL
);

COMMENT ON COLUMN "THEMAPARK"."THEME_NUM" IS '테마파크 번호';

COMMENT ON COLUMN "THEMAPARK"."THEME_NAME" IS '테마파크 이름';

CREATE TABLE "THEME_ENTRANCE" (
	"TE_IDX"	int	 GENERATED BY DEFAULT AS IDENTITY	NOT NULL,
	"THEME_NUM"	int		NOT NULL,
	"STD_DATE"	date		NULL,
	"ENT_NUM"	int		NULL
);

COMMENT ON COLUMN "THEME_ENTRANCE"."THEME_NUM" IS '테마파크 번호';

COMMENT ON COLUMN "THEME_ENTRANCE"."STD_DATE" IS '날짜(일별)';

COMMENT ON COLUMN "THEME_ENTRANCE"."ENT_NUM" IS '입장객수';

CREATE TABLE "NAVI_SEARCH" (
	"NS_IDX"	int	 GENERATED BY DEFAULT AS IDENTITY	NOT NULL,
	"THEME_NUM"	int		NOT NULL,
	"STD_DATE"	date		NULL,
	"SRC_NUM"	int		NULL
);

COMMENT ON COLUMN "NAVI_SEARCH"."THEME_NUM" IS '테마파크 번호';

COMMENT ON COLUMN "NAVI_SEARCH"."STD_DATE" IS '날짜(일별)';

COMMENT ON COLUMN "NAVI_SEARCH"."SRC_NUM" IS '검색건수';

CREATE TABLE "SUBWAY_INOUT" (
	"SI_IDX"	int	 GENERATED BY DEFAULT AS IDENTITY	NOT NULL,
	"THEME_NUM"	int		NOT NULL,
	"STD_DATE"	date		NULL,
	"IN_NUM"	int		NULL,
	"OUT_NUM"	int		NULL
);

COMMENT ON COLUMN "SUBWAY_INOUT"."THEME_NUM" IS '테마파크 번호';

COMMENT ON COLUMN "SUBWAY_INOUT"."STD_DATE" IS '날짜(일별)';

COMMENT ON COLUMN "SUBWAY_INOUT"."IN_NUM" IS '승차 승객수';

COMMENT ON COLUMN "SUBWAY_INOUT"."OUT_NUM" IS '하차 승객수';

CREATE TABLE "THEME_EVENT" (
	"TE_IDX"	int	 GENERATED BY DEFAULT AS IDENTITY	NOT NULL,
	"THEME_NUM"	int		NOT NULL,
	"STD_DATE"	date		NULL,
	"EVENT_OX"	varchar(4)		NULL
);

COMMENT ON COLUMN "THEME_EVENT"."THEME_NUM" IS '테마파크 번호';

COMMENT ON COLUMN "THEME_EVENT"."STD_DATE" IS '날짜(일별)';

COMMENT ON COLUMN "THEME_EVENT"."EVENT_OX" IS '행사여부(O/X)';


ALTER TABLE "DAILY_WEATHER" ADD CONSTRAINT "PK_DAILY_WEATHER" PRIMARY KEY (
	"DW_IDX"
);

ALTER TABLE "THEMEPARK" ADD CONSTRAINT "PK_THEMAPARK" PRIMARY KEY (
	"THEME_NUM"
);

ALTER TABLE "THEME_ENTRANCE" ADD CONSTRAINT "PK_THEME_ENTRANCE" PRIMARY KEY (
	"TE_IDX"
);

ALTER TABLE "NAVI_SEARCH" ADD CONSTRAINT "PK_NAVI_SEARCH" PRIMARY KEY (
	"NS_IDX"
);

ALTER TABLE "SUBWAY_INOUT" ADD CONSTRAINT "PK_SUBWAY_INOUT" PRIMARY KEY (
	"SI_IDX"
);

ALTER TABLE "THEME_EVENT" ADD CONSTRAINT "PK_THEME_EVENT" PRIMARY KEY (
	"TE_IDX"
);


ALTER TABLE "THEME_ENTRANCE" ADD CONSTRAINT "FK_THEME_ENTRANCE_TO_THEMEPARK" FOREIGN KEY ("THEME_NUM") REFERENCES "THEMEPARK" ("THEME_NUM");

ALTER TABLE "NAVI_SEARCH" ADD CONSTRAINT "FK_NAVI_SEARCH_TO_THEMEPARK" FOREIGN KEY ("THEME_NUM") REFERENCES "THEMEPARK" ("THEME_NUM");

ALTER TABLE "SUBWAY_INOUT" ADD CONSTRAINT "FK_SUBWAY_INOUT_TO_THEMEPARK" FOREIGN KEY ("THEME_NUM") REFERENCES "THEMEPARK" ("THEME_NUM");

ALTER TABLE "THEME_EVENT" ADD CONSTRAINT "FK_THEME_EVENT_TO_THEMEPARK" FOREIGN KEY ("THEME_NUM") REFERENCES "THEMEPARK" ("THEME_NUM");

